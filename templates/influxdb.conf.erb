# Puppet managed file

reporting-disabled = <%= scope.call_function('bool2str', scope['influxdb::reporting_disabled']) %>
bind-address = "<%= scope['influxdb::bind_address'] %>"

[meta]
  dir = "<%= scope['influxdb::meta_dir'] %>"
  retention-autocreate = <%= scope.call_function('bool2str', scope['influxdb::meta_retention_autocreate']) %>
  logging-enabled = <%= scope.call_function('bool2str', scope['influxdb::meta_logging_enabled']) %>

[data]
  dir = "<%= scope['influxdb::data_dir'] %>"
  wal-dir = "<%= scope['influxdb::data_wal_dir'] %>"
  wal-fsync-delay = "<%= scope['influxdb::data_wal_fsync_delay'] %>"
  index-version = "<%= scope['influxdb::data_index_version'] %>"
  trace-logging-enabled = <%= scope.call_function('bool2str', scope['influxdb::data_trace_logging_enabled']) %>
  query-log-enabled = <%= scope.call_function('bool2str', scope['influxdb::data_query_log_enabled']) %>
  validate-keys = <%= scope.call_function('bool2str', scope['influxdb::data_validate_keys']) %>
  cache-max-memory-size = "<%= scope['influxdb::data_cache_max_memory_size'] %>"
  cache-snapshot-memory-size = "<%= scope['influxdb::data_cache_snapshot_memory_size'] %>"
  cache-snapshot-write-cold-duration = "<%= scope['influxdb::data_cache_snapshot_write_cold_duration'] %>"
  compact-full-write-cold-duration = "<%= scope['influxdb::data_compact_full_write_cold_duration'] %>"
  max-concurrent-compactions = <%= scope['influxdb::data_max_concurrent_compactions'] %>
  compact-throughput = "<%= scope['influxdb::data_compact_throughput'] %>"
  compact-throughput-burst = "<%= scope['influxdb::data_compact_throughput_burst'] %>"
  tsm-use-madv-willneed = <%= scope.call_function('bool2str', scope['influxdb::data_tsm_use_madv_willneed']) %>
  max-series-per-database = <%= scope['influxdb::data_max_series_per_database'] %>
  max-values-per-tag = <%= scope['influxdb::data_max_values_per_tag'] %>
  max-index-log-file-size = "<%= scope['influxdb::data_max_index_log_file_size'] %>"
  series-id-set-cache-size = <%= scope['influxdb::data_series_id_set_cache_size'] %>

[coordinator]
  write-timeout = "<%= scope['influxdb::coordinator_write_timeout'] %>"
  max-concurrent-queries = <%= scope['influxdb::coordinator_max_concurrent_queries'] %>
  query-timeout = "<%= scope['influxdb::coordinator_query_timeout'] %>"
  log-queries-after = "<%= scope['influxdb::coordinator_log_queries_after'] %>"
  max-select-point = <%= scope['influxdb::coordinator_max_select_point'] %>
  max-select-series = <%= scope['influxdb::coordinator_max_select_series'] %>
  max-select-buckets = <%= scope['influxdb::coordinator_max_select_buckets'] %>

[retention]
  enabled = <%= scope.call_function('bool2str', scope['influxdb::retention_enabled']) %>
  check-interval = "<%= scope['influxdb::retention_check_interval'] %>"

[shard-precreation]
  enabled = <%= scope.call_function('bool2str', scope['influxdb::shard_precreation_enabled']) %>
  check-interval = "<%= scope['influxdb::shard_precreation_check_interval'] %>"
  advance-period = "<%= scope['influxdb::shard_precreation_advance_period'] %>"

[monitor]
  store-enabled = <%= scope.call_function('bool2str', scope['influxdb::monitor_store_enabled']) %>
  store-database = "<%= scope['influxdb::monitor_store_database'] %>"
  store-interval = "<%= scope['influxdb::monitor_store_interval'] %>"

[http]
  enabled = <%= scope.call_function('bool2str', scope['influxdb::http_enabled']) %>
  flux-enabled = <%= scope.call_function('bool2str', scope['influxdb::http_flux_enabled']) %>
  flux-log-enabled = <%= scope.call_function('bool2str', scope['influxdb::http_flux_log_enabled']) %>
  bind-address = "<%= scope['influxdb::http_bind_address'] %>"
  auth-enabled = <%= scope.call_function('bool2str', scope['influxdb::http_auth_enabled']) %>
  realm = "<%= scope['influxdb::http_realm'] %>"
  log-enabled = <%= scope.call_function('bool2str', scope['influxdb::http_log_enabled']) %>
  suppress-write-log = <%= scope.call_function('bool2str', scope['influxdb::http_suppress_write_log']) %>
  access-log-path = "<%= scope['influxdb::http_access_log_path'] %>"
  access-log-status-filters = [<%= scope['influxdb::http_access_log_status_filters'] %>]
  write-tracing = <%= scope.call_function('bool2str', scope['influxdb::http_write_tracing']) %>
  pprof-enabled = <%= scope.call_function('bool2str', scope['influxdb::http_pprof_enabled']) %>
  debug-pprof-enabled = <%= scope.call_function('bool2str', scope['influxdb::http_debug_pprof_enabled']) %>
  https-enabled = <%= scope.call_function('bool2str', scope['influxdb::http_https_enabled']) %>
  https-certificate = "<%= scope['influxdb::http_https_certificate_path'] %>"
  https-private-key = "<%= scope['influxdb::http_https_private_key_path'] %>"
  shared-secret = "<%= scope['influxdb::http_shared_secret'] %>"
  max-row-limit = <%= scope['influxdb::http_max_row_limit'] %>
  max-connection-limit = <%= scope['influxdb::http_max_connection_limit'] %>
  unix-socket-enabled = <%= scope.call_function('bool2str', scope['influxdb::http_unix_socket_enabled']) %>
  bind-socket = "<%= scope['influxdb::http_bind_socket'] %>"
  max-body-size = <%= scope['influxdb::http_max_body_size'] %>
  max-concurrent-write-limit = <%= scope['influxdb::http_max_concurrent_write_limit'] %>
  max-enqueued-write-limit = <%= scope['influxdb::http_max_enqueued_write_limit'] %>
  enqueued-write-timeout = <%= scope['influxdb::http_enqueued_write_timeout'] %>

[logging]
  format = "<%= scope['influxdb::logging_format'] %>"
  level = "<%= scope['influxdb::logging_level'] %>"
  suppress-logo = <%= scope.call_function('bool2str', scope['influxdb::logging_suppress_logo']) %>

[subscriber]
  enabled = <%= scope.call_function('bool2str', scope['influxdb::subscriber_enabled']) %>
  http-timeout = "<%= scope['influxdb::subscriber_http_timeout'] %>"
  insecure-skip-verify = <%= scope.call_function('bool2str', scope['influxdb::subscriber_insecure_skip_verify']) %>
  ca-certs = "<%= scope['influxdb::subscriber_ca_certs'] %>"
  write-concurrency = <%= scope['influxdb::subscriber_write_concurrency'] %>
  write-buffer-size = <%= scope['influxdb::subscriber_write_buffer_size'] %>

[[graphite]]

[[collectd]]

[[opentsdb]]

[[udp]]

[continuous_queries]
  enabled = <%= scope.call_function('bool2str', scope['influxdb::continuous_queries_enabled']) %>
  log-enabled = <%= scope.call_function('bool2str', scope['influxdb::continuous_queries_log_enabled']) %>
  query-stats-enabled = <%= scope.call_function('bool2str', scope['influxdb::continuous_queries_query_stats_enabled']) %>
  run-interval = "<%= scope['influxdb::continuous_queries_run_interval'] %>"

[tls]
  ciphers = [<%= scope['influxdb::tls_ciphers'] %>]
  min-version = "<%= scope['influxdb::tls_min_version'] %>"
  max-version = "<%= scope['influxdb::tls_max_version'] %>"
